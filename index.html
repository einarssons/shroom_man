<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Mushroom Man</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="gameContainer">
        <div id="gameHeader">
            <h1 id="levelTitle">Level Title</h1>
            <div id="gameInfo">
                <span id="levelNumber">Level: 1</span>
                <span id="levelAuthor">Author</span>
                <span id="movesInfo">Moves: 0</span>
            </div>
        </div>

        <svg id="gameGrid" viewBox="0 0 400 280" width="800" height="560">
            <!-- Game tiles will be rendered here -->
        </svg>

        <div id="resourcePanel">
            <div id="resources">
                <span class="resource">
                    <img src="./images/key.svg" class="resource-icon" alt="Key">
                    <span class="resource-count" id="keyCount">0</span>
                </span>
                <span class="resource">
                    <img src="./images/money.svg" class="resource-icon" alt="Money">
                    <span class="resource-count" id="moneyCount">0</span>
                </span>
                <span class="resource">
                    <img src="./images/cement_sack.svg" class="resource-icon" alt="Cement">
                    <span class="resource-count" id="cementCount">0</span>
                </span>
                <span class="resource">
                    <img src="./images/oxygen.svg" class="resource-icon" alt="Oxygen">
                    <span class="resource-count" id="oxygenCount">0</span>
                </span>
            </div>
        </div>

        <div id="gameControls">
            <p>Desktop: Arrow Keys or WASD | Mobile: Swipe to move | N: Next | P: Previous | L: Choose Level</p>
            <button id="resetLevel">Reset Level</button>
            <button id="nextLevel">Next Level</button>
            <button id="chooseLevel">Choose Level</button>
        </div>

        <div id="gameVersion">v1.0.1</div>
    </div>

    <!-- Level Complete Modal -->
    <div id="levelCompleteModal" class="modal">
        <div class="modal-content">
            <h2 id="modalTitle">Level Complete!</h2>
            <p id="modalMessage">Great job!</p>
            <div class="modal-buttons">
                <button id="modalNextLevel" class="modal-button">Next Level</button>
                <button id="modalRestart" class="modal-button secondary">Restart Level</button>
            </div>
        </div>
    </div>

    <!-- Level Failed Modal -->
    <div id="levelFailedModal" class="modal">
        <div class="modal-content">
            <h2>Level Failed</h2>
            <p id="failMessage">You fell into a hole!</p>
            <div class="modal-buttons">
                <button id="modalRetry" class="modal-button">Try Again</button>
            </div>
        </div>
    </div>

    <!-- Level Selector Modal -->
    <div id="levelSelectorModal" class="modal">
        <div class="modal-content">
            <h2>Choose Level</h2>
            <div class="level-selector">
                <label for="levelInput">Level Number (1-<span id="maxLevel">175</span>):</label>
                <input type="number" id="levelInput" min="1" max="175" value="1">
                <p id="levelPreview" class="level-preview">Level: <span id="previewTitle">Loading...</span></p>
                <p id="levelError" class="level-error"></p>
            </div>
            <div class="modal-buttons">
                <button id="modalGoToLevel" class="modal-button">Go to Level</button>
                <button id="modalCancelLevel" class="modal-button secondary">Cancel</button>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>